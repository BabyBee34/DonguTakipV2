Adet (Menstrual Cycle) A-to-Z Guide and AI-Powered Period Tracker App Blueprint
Understanding the Menstrual Cycle (Adet)
What is a menstrual cycle? The menstrual cycle (known colloquially as “adet” in Turkish) is the monthly process in which the female body prepares for a potential pregnancy. It begins on the first day of menstrual bleeding (your period) and ends when the next period begins[1][2]. During each cycle, the uterus lining thickens under hormonal influence to prepare for a possible pregnancy, and an egg matures in the ovary. If no pregnancy occurs, hormone levels (estrogen and progesterone) drop, causing the uterus to shed its lining as menstrual blood – this is the period bleed[3][4]. In summary, menstruation is the body discarding the uterine lining built up that month, flowing out as blood through the cervix and vagina[4][5]. This cycle then repeats itself approximately every month.
Cycle phases: There are four main phases in a typical menstrual cycle, driven by rising and falling hormone levels[6][7]:
- Menstrual Phase (Period) – Day 1 of the cycle is the first day of bleeding. This phase is when the thickened uterine lining sheds if no pregnancy happened. Bleeding usually lasts around 3–7 days in a normal period[8][9]. Most people bleed about 3–5 days, but anywhere from about 3 up to 7 days is generally not a cause for concern[8][10].
- Follicular Phase – This phase overlaps with the menstrual phase and continues after it, spanning from Day 1 to ovulation. The pituitary gland releases follicle-stimulating hormone (FSH), prompting ovarian follicles to develop. Estrogen rises, helping rebuild the uterine lining after the period[11][12]. Typically by roughly days 10–14 of the cycle, one follicle becomes dominant and an egg matures inside it.
- Ovulation – Around the midpoint of the cycle, an egg is released. In a textbook 28-day cycle this happens about Day 14, but this timing can vary widely person to person[7]. A surge of luteinizing hormone (LH) triggers the ovary to release the mature egg[7]. Ovulation is the phase when a woman is most fertile (the egg can be fertilized for about 12–24 hours after release). Sperm can survive ~3–5 days in the reproductive tract, so unprotected sex in the few days leading up to ovulation can lead to pregnancy[13][14].
- Luteal Phase – After ovulation, the empty follicle in the ovary forms the corpus luteum, which secretes progesterone. Progesterone (and estrogen) levels peak to prepare the uterine lining for a possible embryo implantation[15][16]. This phase lasts from post-ovulation until the end of the cycle (when the next period begins). If no fertilization occurs, the corpus luteum breaks down around day 24–28 of a 28-day cycle, causing hormone levels to drop. This drop triggers the shedding of the uterine lining (menses), and a new cycle begins[16].
Cycle length and variability: The often-cited “average” cycle length is 28 days, but in reality this varies greatly among individuals. Normal menstrual cycles can range anywhere from about 24 days up to 38 days in adults[17][18]. (Historically, 21–35 days was given as a normal range, but newer guidelines recognize up to ~38 days as still regular for some women[17][19].) What’s important is that a person’s own cycles are consistent for them. For example, one woman might regularly have a 26-day cycle, another 34 days – both can be normal. It’s also normal for cycle length to vary slightly month to month[17]. Some women have highly predictable cycles, while others’ periods might start a few days earlier or later each month[20]. Especially in the first few years after menarche (the first period), cycles tend to be longer or irregular as the body’s hormones mature – it may take up to ~3 years for cycles to stabilize in teens[21][22]. Later in life, as menopause approaches (typically in the late 40s to early 50s), cycles often become irregular again[23].
Key ages: Girls typically get their first period (menarche) around age 12 on average[24][25]. There is a wide normal range – some may start as early as about 8 or 9 years old, and others as late as 15–16[24][26]. Factors like genetics (e.g. the age the girl’s mother started) and overall health can influence timing[27]. If a girl shows no signs of menstruation by ~15 or 3+ years after starting breast development, doctors recommend a check-up just to ensure everything is okay[28]. At the other end, periods continue until menopause. Menopause (the end of menstrual cycles) happens when the ovaries stop releasing eggs and hormone levels permanently decline. This occurs at an average age of about 51–52 years[29][30]. Most women have periods for roughly 40 years of their life, from early teens into their 40s[31]. Menopause is officially defined as no period for 12 consecutive months[32]. (Periods can also pause temporarily during pregnancy and often while breastfeeding, and then resume afterward[33].)
Menstrual flow (bleeding): During each period, the amount of blood lost is usually modest – on average about 2–3 tablespoons (30–45 milliliters) over the whole period[34][35]. It might not seem like a lot when measured, but because it comes out gradually over days it can feel more substantial. Flow varies by individual: some have lighter, short periods and others heavier or longer, and both can be normal for different people[36]. Even the same person can have slight differences in flow from month to month[36]. Generally, bleeding that soaks through a pad or tampon every 1–2 hours or passes large clots (bigger than a quarter coin) regularly is considered heavy bleeding and may warrant checking with a healthcare provider[34][37]. Bleeding that lasts longer than about 7–8 days is also considered prolonged. So while “normal” periods last up to about a week, if someone’s bleeding heavily beyond a week or using very large numbers of pads/tampons per day, that’s a sign to get medical advice[34][37].
Ovulation and fertility: Ovulation – the release of an egg from the ovary – typically occurs roughly midway in the cycle, but not exactly the same day for everyone. In a 28-day cycle it often happens around day 14[7]. In longer cycles it might be later (e.g. ovulation around day 20 of a 34-day cycle). After ovulation, if sperm is present and fertilizes the egg, pregnancy can occur; otherwise, the egg disintegrates and the cycle continues into the luteal phase then menstruation. Not every cycle will have ovulation, especially if someone is very young (the first year or two of periods can be anovulatory cycles sometimes) or nearing menopause[38][39]. Also, certain conditions or even stress can cause an occasional cycle where no ovulation happens. It’s important to note that one can still get a period without ovulating (what sheds might be an accumulated lining) – but regular ovulation is a sign of a healthy, typical cycle in reproductive years. Tracking ovulation is particularly important for those trying to conceive or avoid pregnancy. Ovulation signs include changes in cervical mucus (it becomes clear and stretchy, like egg white, around ovulation) and a slight rise in basal body temperature afterward[40][41]. Many apps (including the one we aim to build) help predict ovulation based on cycle data, or some people use ovulation test kits that detect the LH hormone surge about ~36 hours before ovulation[41].
Important Facts and Figures about Menstruation
To ensure medical accuracy, here are some evidence-based key facts and data about menstrual health:
•	Cycle Regularity: “Regular” cycles don’t have to be exactly 28 days. Medical sources define regular cycles as anywhere between 24 and 38 days apart, as long as the timing is fairly consistent for the individual[17][18]. Only about 10-15% of women actually have a strict 28-day cycle every month; many have slightly shorter or longer cycles and that’s normal. Cycles may also shift over the years – for example, teens often have longer, irregular cycles at first, and women in their 40s may start experiencing irregular timing as they approach menopause[22][23].
•	Prevalence of symptoms: The majority of people who menstruate experience some premenstrual or period-related symptoms. For instance, studies show around 75% (3 in 4) of menstruating women have experienced some form of premenstrual syndrome (PMS) symptoms like mood changes, cramps, or bloating in the week or two before their period[42]. However, for most, these symptoms are mild to moderate. A smaller subset – approximately 3–8% of women – have premenstrual dysphoric disorder (PMDD), a severe form of PMS where mood symptoms (like depression or severe irritability) are intense enough to interfere with daily life[43]. So while mild PMS is very common, severe PMS/PMDD is less common.
•	Menstrual cramps and pain: Painful cramps (medical term: dysmenorrhea) are the most common complaint during periods. Research indicates anywhere from 50% up to 90% of women experience menstrual pain at some point in their lives[44]. In surveys of young women, about 84% reported period pain, though not all every month[45]. The intensity varies widely: roughly 20% (1 in 5) of women have pain severe enough that it interferes with daily activities (like missing school/work)[46][44]. In about 2–5% of women, cramps can be truly debilitating each cycle. On the other hand, a lucky minority (perhaps 10–20%) have very mild or no significant cramps. Bottom line: some discomfort is normal, but extreme pain is not “just something to put up with” – it should be evaluated since it might indicate conditions like endometriosis or fibroids which can be treated.
•	First period (menarche) timing: As mentioned, the average age is around 12. Worldwide, the typical age range for first period is roughly 11 to 15 years old, though 8 or 9 isn’t abnormal at the low end, especially in recent decades[24][26]. If no period by age 15 (and especially if other puberty signs are present from years before), doctors consider this delayed and would investigate possible causes[28]. Earlier than age 8 would be considered very early and also merits a check for hormonal issues. These are just general guidelines for pediatricians to ensure healthy development.
•	Menopause timing: Most women reach menopause between 45 and 55, with the average around 52[30]. Smoking and certain medical treatments (like chemotherapy) can cause earlier menopause, while having children and genetics can influence timing slightly. Around menopause, cycles typically become erratic – one might skip periods or have different flow – in the years of perimenopause leading up to the final period[32][23].
•	Period flow volume: As noted, an average total menstrual blood loss per cycle is about 30–40 mL (which is 2–3 tablespoons)[35]. More than about 80 mL is considered heavy menstrual bleeding in clinical terms. From a practical standpoint, if you are soaking through a pad or tampon every hour or two on the heaviest days, or needing to double up protection, that’s a sign of heavy bleeding[34][37]. Clots bigger than ~2.5 cm (1 inch) are also a sign. Our app can help track how many products are used and flag if it sounds like the flow is unusually heavy, prompting the user to consider a medical check.
•	Cycle impact on daily life: Many women notice cyclical changes beyond just their reproductive system. For example, hormone fluctuations during the cycle can affect other health issues. Asthma symptoms can worsen at certain cycle phases, and conditions like irritable bowel syndrome might flare premenstrually[47]. Mood and mental health can also be impacted: some women with underlying depression/anxiety notice their symptoms get worse right before the period[47]. Even skin can change – acne often flares up pre-period due to hormone changes (a common PMS symptom is getting some pimples[48]). Knowing these patterns can help one prepare and manage existing conditions around their cycle.
•	Cultural and individual variation: The experience of “adet” can vary culturally and individually. Some cultures openly discuss and educate about menstrual health, while others consider it a more private or even taboo topic. Our content aims to be sensitive, friendly, and modest in tone, so it’s approachable in any context. We present factual information but in an easy-to-understand, gentle manner – much like an older sister or a trusted friend would explain it. For instance, instead of a dry medical statement like “dysmenorrhea is common”, the app might say “Many people get cramps during their period; you’re not alone, and there are ways to feel better!” – conveying empathy and encouragement while remaining accurate.
Common Menstrual Symptoms and How to Cope
Menstruation and the hormonal swings of the cycle can cause a variety of symptoms. Every person is different – some have many symptoms, others have very few. Here are the most common ones and tips for managing them:
•	Menstrual Cramps (Period Pain): Cramps are caused by the uterus contracting to help expel its lining, triggered by chemicals called prostaglandins[49]. They typically feel like an aching or throbbing pain in the lower abdomen, and can radiate to the lower back or thighs. Some cramping on the first day or two of flow is normal, but it shouldn’t ruin your life. To ease cramps, tried-and-true home remedies can help a lot: use a heating pad or hot water bottle on your lower belly, do some gentle exercise (even a short walk or stretching can release endorphins that reduce pain), or take a warm bath to relax your muscles[50]. Relaxation techniques like yoga or deep breathing can also alleviate tension[50]. Over-the-counter pain relievers are very effective for most people – in particular, NSAIDs like ibuprofen or naproxen are recommended because they not only reduce pain but also reduce prostaglandin production (the root cause of cramps)[51]. It’s best to take an NSAID at the start of pain or even just before you expect cramps (say, the day your period is due), and continue for a day or two. Always follow dosing instructions; and if you have conditions like stomach ulcers or kidney issues, check with a doctor before using NSAIDs[51]. If cramps are so severe that even medicine and home care don’t help and you regularly miss school/work, see a doctor – you may have an underlying condition like endometriosis or simply need a prescription solution. The good news is that cramps often get better as you get older or after having a baby[52] (this is a general trend, not a guarantee).
•	Premenstrual Syndrome (PMS): This refers to the physical and emotional symptoms that occur in the luteal phase (the week or two before the period starts). Common PMS symptoms include: mood swings, irritability or anxiety, fatigue, bloating, breast tenderness, headaches, acne breakouts, food cravings, and trouble sleeping[53][54]. Approximately 3 out of 4 women notice at least some mild PMS symptoms[42]. To manage PMS, lifestyle can play a big role. For instance, studies have found that women who exercise regularly are less likely to have severe PMS or cramps – regular aerobic exercise (like walking, jogging, swimming ~30 minutes most days) can improve mood and reduce fatigue[55][56]. Eating a balanced diet throughout the month (emphasizing fruits, veggies, whole grains, and reducing excess salt, sugar, caffeine, and alcohol especially in the premenstrual week) helps with bloating and irritability[57]. Getting enough sleep (aim ~8 hours) and keeping a consistent sleep schedule can stabilize mood swings and energy levels[58]. Stress reduction and relaxation techniques (meditation, gentle yoga, deep breathing exercises) are proven to ease the emotional symptoms of PMS for many women[59]. We will incorporate these tips into the app’s content – for example, the AI chatbot can gently remind a user who logs severe PMS that “some light exercise or a few minutes of meditation might help lift your pre-period blues”, always in a supportive tone. In some cases, if lifestyle changes aren’t enough, doctors may recommend medical treatments for PMS/PMDD, such as hormonal birth control (which can stabilize hormones and alleviate physical symptoms) or certain antidepressants for severe mood symptoms[60][61]. Our app’s role is not to prescribe, but it can inform the user that help is available and encourage seeking professional advice if PMS is truly disrupting daily life.
•	Mood changes: It’s very common to feel more emotional or irritable in the days before a period. People often report feeling more easily upset, or conversely experiencing crying spells or anxiety premenstrually[54]. These mood changes are part of PMS. Understanding that this is influenced by hormone shifts can itself be reassuring (you know why it’s happening). Coping strategies include those mentioned above (exercise, sleep, stress relief). Additionally, keeping a journal of feelings or using the app to log mood can help identify the pattern and remind you (or the AI assistant can remind you) that “this too shall pass” once the period starts and hormone levels rebalance. In severe cases (PMDD), professional help is important – therapies or medications can greatly improve quality of life.
•	Bloating and appetite changes: Many experience water retention, a sense of bloating in the abdomen, and even slight weight gain (a couple of pounds) before or during the period. This is hormonal and usually temporary. Reducing salty foods and staying hydrated can mitigate bloating. Some also have constipation or diarrhea around their period due to hormone effects on the intestines[62][63] – this usually resolves in a day or two. Food cravings (often for sweets or carbs) are common in PMS; it’s okay to indulge a bit, but moderation helps avoid worsening the bloated feeling. The app can have fun tips like a gentle reminder to maybe swap a very salty snack for a piece of fruit or some nuts which might satisfy a craving while providing beneficial nutrients.
•	Breast soreness: Hormonal changes (high estrogen/progesterone in the luteal phase) can cause breast swelling and tenderness, peaking just before the period. Wearing a supportive bra and reducing caffeine intake can help a bit with this. The soreness typically improves once the period begins. Vitamin E and magnesium supplements are sometimes suggested for cyclical breast tenderness (though evidence is mixed). Our AI should stick to generally accepted advice like a warm compress or proper support, and suggest seeing a doctor if breast pain is extreme or if lumps are felt (to rule out other issues).
•	Acne: Due to hormone fluctuations, many get acne flares in the week before a period. Keeping up a good skincare routine and perhaps using a salicylic acid wash pre-period can help. This is a minor aspect, but the app’s AI could have a friendly note like “Your skin might get a bit oily now – it’s those hormones. Keep cleansed and know it usually calms down once your period starts 😉.” This keeps the tone light and supportive.
When to seek medical advice: While most menstrual issues can be managed with self-care, it’s crucial to know when something might be more than just “normal period stuff”. Here are some red flags that the app (and user) should be aware of, where consulting a healthcare provider is advised[64][65]:
•	No periods (amenorrhea): If a teen is 15 or older and still hasn’t gotten her first period[28], or if an adult who previously had regular periods suddenly stops getting periods for 3 months or more (and isn’t pregnant), it should be checked[64]. Missing periods can result from various causes – some are benign (stress, excessive exercise, low body weight), but others like hormonal imbalances (thyroid issues, polycystic ovary syndrome) might need attention. Our app can alert a user if they log a gap of 90+ days without period (outside of pregnancy) that it’s time to see the doctor.
•	Excessively heavy periods: If you consistently bleed so much that you soak a pad or tampon every hour or two, pass large clots, or bleed for longer than a week, that’s beyond normal[34][37]. Heavy menstrual bleeding (menorrhagia) can cause anemia (low iron) and fatigue, and might indicate fibroids or other conditions that have treatments. So the app should flag entries of very heavy flow and encourage medical consultation.
•	Severe pain: Cramps that are so bad you have to curl up and miss work or school, or pain that isn’t relieved by normal methods (heat, NSAIDs), is not something to just endure every month[66][67]. Severe dysmenorrhea can be a sign of endometriosis, a condition where tissue similar to uterine lining grows outside the uterus and causes intense pain. There are treatments for these causes, so a doctor’s visit is warranted if pain is consistently excruciating. The app’s AI can have an empathetic message like, “I’m sorry you’re in so much pain 😞 – very painful periods aren’t normal, and you might want to talk to a healthcare provider about it.”
•	Irregular bleeding: If the cycle is persistently shorter than ~21 days or longer than ~38 days, or if periods come completely unpredictably, it’s worth checking[68]. Also, bleeding between periods (spotting mid-cycle unrelated to ovulation, or after sex) should be evaluated. Our tracker can detect if cycles are outside the normal range and advise an expert consult.
•	Other concerns: If a user experiences symptoms like fever, vomiting, or rash while using a tampon, they should seek emergency care as these can be signs of the rare Toxic Shock Syndrome (TSS)[69][70]. (The app can include a safety note about proper tampon use – e.g. don’t leave tampons in more than 8 hours – to help prevent TSS[71][72].) Also, if someone thinks they might be pregnant (missed period after unprotected sex) or has any new unusual symptoms, a pregnancy test or doctor’s visit is recommended[73]. Basically, anything that seems far outside one’s normal should be checked for peace of mind. We will ensure our AI is programmed to recognize these red-flag scenarios in the user’s data and messages, and respond with appropriate advice (always suggesting professional medical confirmation rather than the AI guessing at a diagnosis). Medical accuracy and user safety are paramount in those cases.
Designing a Friendly and Accurate Menstrual Health App
Now that we’ve covered the A-to-Z of menstrual health, let’s discuss how to translate this knowledge into a special, user-friendly app. The goal is an application that not only tracks the menstrual cycle but also educates and supports the user in a “sweet, modest, and fun” manner. Key design principles and features include:
•	Medical Accuracy with a Friendly Tone: All information provided (whether through the AI chatbot, tips, or articles in the app) must be fact-checked and medically sound. However, the delivery will be in an accessible, conversational style – no overly clinical jargon that might confuse or scare users. For example, rather than stating “You are experiencing luteal phase symptoms of progesterone imbalance,” the app might say “It’s normal to feel a bit more tired or blue right before your period – that’s when your body’s hormones are shifting. Be gentle with yourself during this time.” This communicates the gist in a kind, human way. The tone should be supportive, non-judgmental, and even a bit playful when appropriate, to make the user feel at ease. We avoid anything that could be perceived as shaming (for instance, if a user forgets to log something, the app would never scold, only encourage). Our aim is to normalize talking about periods in a way that’s empowering. In Turkish culture (and many others), menstruation can be a sensitive topic, so a modest approach means we use respectful language and empathy. The app should feel like a trusted friend who happens to be very knowledgeable about menstrual health.
•	Unique “Special” Features: To stand out from generic period trackers, we incorporate AI-powered personalization and insights. Some innovative features inspired by the latest in femtech include:
•	Cycle Predictions & Fertility Window: Using AI algorithms, the app will learn the user’s cycle patterns over time and improve predictions for next period start, ovulation day, and fertile window. This goes beyond static average calculations – if the user’s data shows, say, a pattern of gradually shortening cycles or occasional long cycles, the AI can adapt predictions with those trends in mind[74][75]. This helps in planning (and is useful for both achieving or avoiding pregnancy goals if relevant).
•	Symptom Tracking & Recommendations: The user can log daily symptoms (mood, cramps intensity, sleep quality, etc.). The AI can analyze these and provide health insights[74]. For example, if it notices the user always gets headaches two days before the period, it might highlight that pattern and provide a tip like “It looks like you often get a headache right before your period. Staying hydrated and reducing caffeine during those days might help, according to experts.” By detecting patterns, the app gives personalized advice – turning data into actionable suggestions.
•	Chatbot Q&A Assistant: A standout feature is a built-in AI chatbot that can answer questions about menstruation, puberty, contraception, or other women’s health topics. This is akin to having a private, reliable “Google” specifically for period questions – except with a friendlier voice. For instance, a user might ask, “Why is my period late this month?” and the AI can respond with context-aware answers: “Periods can be late for many reasons – stress, changes in weight, or just a natural irregular cycle. If you’re worried about pregnancy, consider a test. Otherwise, a few days’ delay is usually OK. Let’s see if it comes in a week; if not, maybe check with a doctor just to be sure[68].” The chatbot will be trained on the comprehensive information (like what we compiled above) to ensure accuracy. It will also be programmed to handle sensitive questions sensitively – especially for younger users who may ask things they’re embarrassed about. We take inspiration from an app like Ove, a period app for teens that uses an AI chatbot to answer questions about menstruation and puberty in a gentle, age-appropriate way[76]. Our app will do similarly, adjusting the depth of information to the user’s understanding.
•	Lifestyle and Cycle Syncing: To make the app fun and truly helpful, we can include features that let users align their lifestyle with their cycle. For example, some recent apps (like Essence) focus on leveraging the four phases of the menstrual cycle to maximize productivity and wellness[77]. In practice, this could mean our app offers coaching like, “You’re in your follicular phase – energy levels are often higher around now, so it’s a great time to start new projects or hit the gym!” versus “In your menstrual phase, it’s normal to feel low energy. Don’t push yourself too hard; maybe plan a quiet day if you can.” These insights turn the cycle into something empowering (even a “superpower”) rather than a nuisance. They also add a bit of novelty and fun – users can experiment with cycle-syncing their workouts or schedules and see how they feel.
•	Educational Content and Quizzes: Beyond Q&A, the app can have a section with short articles or infographics (e.g. “Menstrual Cycle 101” similar to our guide, but distilled) and even fun quizzes to test knowledge. This is especially engaging for younger users. We could gamify it: completing lessons or quizzes earns “badges” (for example, a badge for learning about tampon usage or understanding ovulation). This makes learning about reproductive health less of a chore and more interactive.
•	Community and Support (opt-in): Some users might appreciate a moderated community forum or support group within the app where they can share experiences or tips. Given privacy concerns, this would be strictly opt-in and perhaps anonymous. However, sometimes just knowing others have the same struggles (“Ugh, does anyone else get mood swings that scare their boyfriend?!”) can be comforting. The AI can also summarize common concerns from the community and present FAQs.
•	Privacy and security: Since menstrual and health data is highly personal, our app will make privacy a top priority. We will follow a privacy-forward approach as seen in some modern period apps[78]. This means data is stored securely (ideally primarily on the user’s device or end-to-end encrypted if stored in cloud for sync). We will include features like passcode protection for the app, an anonymous mode, and easy data export/delete options so users have full control. Recent events have made users rightly cautious about how their menstrual data might be used (e.g., concerns about reproductive rights and data being subpoenaed); our stance is that the user’s trust is paramount and their data will never be sold or shared without consent. Emphasizing this will make the app more appealing to users who value confidentiality of their health info.
•	Interface and tone: Visually, the app should have a calming, inviting design. Perhaps a palette that isn’t the stereotypical hot pink (some feedback has noted many period apps are overly “feminine” in a clichéd way)[79]. We might opt for soft colors like teal, purple, or gentle coral – something warm and soothing. The layout should be clean, with important info (like next predicted period) visible at a glance. We’ll use friendly icons and maybe a mascot or avatar for the AI assistant (for example, a little smiling droplet or a character that users can relate to). All messaging from the app, whether an alert or tip, will use positive wording. For example, if a user’s period is late, an app notification might say: “Still no period? It might just be a longer cycle this time. If you’re unsure why, I can help you think through possible reasons 💕.” This kind of tone keeps the user engaged and reassured rather than alarmed.
In summary, the app experience we plan is holistic – it’s not just a calendar for periods, but a menstrual well-being companion. It blends solid medical knowledge with personalized AI insights, delivered in a manner that feels human and caring. This should make the app truly special and tailored to users’ needs, fulfilling the requirement that the application be “özel” (special).
Technical Outline: Expo React Native & TypeScript Implementation
With our concept defined, let’s break down how to build this as a working app using Expo (React Native) with TypeScript. Expo will allow us to develop cross-platform (Android/iOS) efficiently, and TypeScript will add type-safety to catch errors early – important for reliability in a health app. Here’s an outline from project setup to key components:
1. Project Setup:
We start by creating a new Expo project with TypeScript support. Expo actually has a template for TypeScript. Using npm or yarn, one can run for example:

npx create-expo-app PeriodPal --template expo-template-blank-typescript
This will scaffold a basic Expo app named "PeriodPal" (just a placeholder name for now) with TypeScript configured. Once set up, we ensure the development environment (VSCode or similar) has TypeScript linting to help maintain clean code. Expo’s managed workflow will let us run the app in development on a device or simulator with live reloading, which is great for iterative design.
2. App Architecture & Navigation:
We’ll have multiple screens, so using a navigation library like React Navigation is ideal. For example, a bottom tab navigator could switch between main sections: Home (Dashboard), Calendar, Chatbot, and Profile. We might also have a onboarding flow for first-time users to input data (like last period date, cycle length estimate, etc.). With Expo, we can easily add react-navigation and set up a basic tab layout.
Key screens/components might include:
- Home/Dashboard Screen: This is where the user sees an overview – e.g., “X days until your next period” or “You are on Day 5 of your cycle (Follicular phase)” with maybe an uplifting message. It can also highlight any insights (e.g., “your cycle has been longer for 2 months”) or tips of the day.
- Calendar Screen: A calendar view showing past and predicted periods. This likely involves a custom calendar component (we could use a library or build one). Logged data for each date (symptoms, flow, etc.) can be indicated with icons or color codes. Tapping a date could open a detailed log view or allow entry of notes/symptoms for that day. The calendar helps with visualizing cycle patterns.
- Logs/Symptoms Screen: This might be integrated with Calendar or separate. It’s where the user enters how they feel each day. We can provide a form with toggles/sliders (e.g., “cramps: none/mild/moderate/severe”, “mood: 🙂/😐/😢”, etc.) for quick logging. Over time, this data feeds the AI insights.
- Chatbot Screen: This is the AI Q&A interface. It will have a chat UI (messages from user and responses from the AI). We can use a scrollable view to show the conversation. A TextInput at the bottom allows the user to type a question like “Why am I bloated?” and when they press send, the app calls our AI service and then displays the answer in the chat. We might also include microphone input for voice questions (Expo has speech-to-text capabilities) to be extra user-friendly.
- Profile/Settings Screen: Here the user can adjust settings like notification preferences (e.g., “Remind me 2 days before my period” or daily log reminders), cycle length settings (if they know their average or if they want to switch the app to use manual predictions vs. AI predictions), data privacy options (export/delete data, toggle anonymous mode), and perhaps theme choices. Also, if any community/forum or external links (like to educational resources or a helpline) are provided, they can be accessible here.
The navigation structure might look like:

<Tab.Navigator>
  <Tab.Screen name="Home" component={HomeScreen} />
  <Tab.Screen name="Calendar" component={CalendarScreen} />
  <Tab.Screen name="Chat" component={ChatbotScreen} />
  <Tab.Screen name="Settings" component={SettingsScreen} />
</Tab.Navigator>
Using TypeScript interfaces for props and state will help maintain clarity for each component.
3. State Management and Data Storage:
For a smooth user experience, we need to store user data (cycle dates, symptom logs, etc.) persistently. Since this is a personal app data, a simple solution is using the device’s storage. Expo provides AsyncStorage (or the new expo-secure-store for sensitive data) which allows storing key-value pairs. We might store an array of period records locally. For example:

interface PeriodRecord { startDate: string; endDate: string; flowLevel: 'light'|'medium'|'heavy'; notes?: string; }  
interface SymptomLog { date: string; mood?: string; crampsLevel?: number; etc. }
We maintain a list of past period dates and possibly the predicted next dates. The app’s logic (or AI module) will update predictions based on the history.
We’ll also integrate Expo’s Notifications to schedule reminders (like a notification a couple days before an expected period: “Your period is likely in 2 days – prepare what you need 💕” or a mid-cycle ovulation alert if trying to conceive). Expo’s API can schedule local notifications easily, which we’ll trigger after each cycle is logged for the next cycle’s predictions.
If the app needs to sync across devices or have a cloud backup, we could integrate an external database (like Firebase or a simple REST API server). But given privacy concerns, we might keep it offline by default, with an option to backup to the user’s own cloud (maybe their Google Drive or iCloud) if they want.
4. AI Integration:
This is a crucial part. There are two main aspects where AI is used: cycle prediction and the chatbot Q&A.
•	Cycle Prediction AI: We can start simple, using averages and rule-based logic (like taking the mean of last 3 cycles to predict the next). But to be fancy, we could integrate or train a machine learning model that predicts the next period date given past variability and even symptom patterns (some research suggests that stress or other factors can be predictors if we have data). For the scope here, a complex model might be overkill – a well-tuned algorithm with if-else conditions can achieve good accuracy for predictions since menstrual cycle data is somewhat pattern-based for each individual. We could refine it with feedback: if our prediction was off, adjust the cycle length assumption. Using TypeScript, this logic can be encapsulated in a function like:

 	function predictNextPeriod(lastPeriods: Date[]): Date {
    if(lastPeriods.length < 2) {
        // default to 28 days if not enough data
        return new Date(lastPeriods[0].getTime() + 28*24*60*60*1000);
    }
    const recentIntervals = [];
    for(let i = 1; i < lastPeriods.length; i++){
        const diffDays = (lastPeriods[i].getTime() - lastPeriods[i-1].getTime())/(1000*3600*24);
        recentIntervals.push(diffDays);
    }
    const avgCycle = recentIntervals.reduce((a,b)=>a+b) / recentIntervals.length;
    return new Date(lastPeriods[lastPeriods.length-1].getTime() + avgCycle*24*60*60*1000);
}
 	(Note: This is a simplistic approach that calculates the average cycle length. In reality, we’d also consider the user’s input cycle length if provided, and clamp predictions to reasonable bounds 24-38 days etc.) With TypeScript, we’d ensure lastPeriods is an array of Date or a custom type, and the function returns a Date.
•	Chatbot AI: This is the more challenging part technically. We have a couple of routes:
•	Cloud-based AI (using an API): We can use an existing large language model (LLM) by calling an API (for example, OpenAI’s GPT-4 or similar) with our curated knowledge. We’d likely fine-tune a model or provide it a prompt context with the menstrual health information (the content we compiled could be distilled into a prompt). Fine-tuning or prompting would incorporate the friendly tone. When the user asks a question, the app sends it to our server or directly to an AI service, and then gets the response to display. This requires internet access and has recurring costs, but ensures the AI is powerful.
•	On-device or Rule-based AI: For privacy and offline functionality, a simpler approach is to hard-code a lot of Q&A pairs and use a keyword matching to answer common questions. For example, if user’s question contains “cramps” and “relief”, the app could return a pre-written answer about pain relief strategies (drawn from our knowledge base) – essentially an FAQ search. This isn’t true AI, but can handle frequently asked questions instantly on-device. We could also explore smaller ML models that run on-device (there are some open-source smaller language models by 2025 that might run on high-end phones, but likely not as smoothly). The hybrid approach might be best: have a local database of common questions (with responses vetted by medical experts), and if the question is more unique, fall back to an online AI.
Given the emphasis on accuracy, we might lean towards a controlled AI solution – perhaps a retrieval-based chatbot: the app contains a mini database of information (like the content from this guide), and when a user asks something, the app (or backend) searches that text for relevant info and then formulates an answer. This way, the answer is grounded in known correct information[74]. If using an online service like GPT, we’d supply these facts as context to reduce any hallucinations or errors from the AI.
From a coding perspective, integrating a cloud AI would involve an HTTP request. For instance, using Fetch API in React Native:

async function askAI(question: string): Promise<string> {
  const payload = { user_question: question };
  const response = await fetch('<AI_API_URL>', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(payload)
  });
  const data = await response.json();
  return data.answer; // assuming the API returns { answer: "text" }
}
We would call askAI(userQuestion) when the user submits a question, show a loading indicator, then display the returned answer. The UI for the chat can append the question and answer in a list of messages state.
If building the AI on-device, we’d have perhaps a pre-loaded JSON of Q&A or a small inference model. But for our blueprint, let’s assume use of a reliable cloud AI with proper safeguards. Fine-tuning an AI on the “A-to-Z menstrual info” we created could be done and then hosted. Each answer the AI gives, we can optionally show citations or source (much like how we’re citing here) to build trust with users that the info is credible – although in a conversational UI, we might instead say “(According to the Cleveland Clinic, most cycles are 21-35 days...etc)” within the answer text[80].
•	Tone and Safety for AI: We will instruct the AI to always keep a positive, polite tone. Also, it should recognize when a question is outside scope or too serious. For example, if someone asks about severe medical conditions or something the AI isn’t confident on, it should advise seeing a doctor rather than guessing. And if a user asks an unrelated or inappropriate question (like a joke or a very off-topic thing), the AI should gently steer back or say it’s focused on women’s health topics. These guardrails are part of the AI training. Additionally, for younger users, the AI should handle questions about sex or pregnancy with factual, age-appropriate answers (not shaming, just informative and possibly encouraging them to talk to a trusted adult if needed). We’ll program it to be sensitive and non-judgmental because we expect users might ask anything from “How do I use a tampon?” to “Is it normal to feel depressed during my period?” and all deserve a caring answer.
5. Example Workflow:
To illustrate how it all ties together, consider a user who just downloaded our app:
•	They open it and maybe go through a quick onboarding where they input the date their last period started and how long it usually lasts. This seeds the app with an initial cycle prediction.
•	On the Home screen, they see “Welcome! Your next period is estimated in 15 days. You’re in the ovulation phase now.” There might be a fun fact of the day or a tip (“Stay hydrated – it helps reduce bloating!”).
•	The user can navigate to Calendar to see a visual of this month and where their period is expected. They can tap today’s date to log how they feel. Let’s say they log “cramps: mild, mood: a bit anxious, craving chocolate.” The app saves this. Over time, the AI might notice a pattern that every 26th day of her cycle she craves chocolate (PMS) and could play that back to her in a summary.
•	The user has a question: “Why do I get pimples before my period?” She goes to Chatbot, asks that. The AI responds with a friendly explanation about hormonal acne and maybe a tip like “keep your face clean, and don’t worry, it usually clears up after your period[48].” The user feels relieved that this is normal.
•	A few weeks later, the app sends a notification: “It’s been 28 days since your last period – did your period start yet?” If the user ignores it and a few more days pass, the app might say “Your period is about 5 days late. If you’ve had sex, consider a pregnancy test just in case[73]. If not, stress or changes in routine can also delay it.” This shows how our content is used proactively to help the user.
•	When the period does start, the user marks it in the app. The AI then recalculates the next prediction if needed. The user might also chat “I’m having really bad cramps today, what can I do?” The AI could respond with the heating pad and NSAID advice we discussed[50][51], in a comforting tone like “Ugh, cramps are the worst! A warm bath or heating pad might help relax those muscles, and an ibuprofen can reduce the pain – that’s what doctors often recommend. Take it easy today ❤️.”
Behind the scenes, all these interactions are powered by our React Native components and the logic we implemented. TypeScript helps ensure, for example, that when we pass the period data to the prediction function, we’re passing a proper date array and not null, reducing runtime errors. This is critical because an app crash or bug in a health app can really frustrate users.
We will also thoroughly test the app (Expo makes it easy to share a test build) to ensure there are no mistakes in calculations (e.g., we don’t want to predict a period in 2 days when it’s actually due 10 days later due to an off-by-one error). The TypeScript types and perhaps some unit tests (using Jest or similar) for functions like predictNextPeriod can catch logic errors early.
6. UI/UX Elements:
To make it fun, we will incorporate small delightful touches: maybe changing the theme or illustrations based on the cycle phase (flowers blooming during follicular, a bright sun around ovulation, calm moon during luteal, and a cozy blanket icon during menstrual phase to encourage rest). The language the app uses will always be uplifting. Even if a user logs something negative like “severe pain” or “feeling very down”, the app’s response will be supportive: “I’m sorry you’re going through this. You might want to rest and maybe let family know you need some comfort. If it’s too bad, consider checking with a doctor. I’m here with you.” This kind of design philosophy ensures the app is not just a tool, but somewhat of a companion in the journey.
From a development standpoint, we’d use React Native components like View, Text, ScrollView, and stylistic ones from either React Native Paper or an UI kit for sleek design. With Expo, using vector icons (for cute icons) and perhaps Lottie files (for simple animations like a smiling uterus cartoon, if we dare) is straightforward.
7. Performance and Updates:
We plan to keep the app efficient – data sets are small (just a few dates and logs per month). The AI calls might be the heaviest operation (network usage), but those are on-demand. We should implement caching for AI answers for common questions, so if offline or to save cost, the app can retrieve a stored answer if a very similar question was asked before. We’ll also include a way to update the knowledge base (maybe via app updates or a dynamic FAQ fetch) so that information stays current with medical guidelines. For example, if a new recommendation comes out (say, a new treatment for PMS), we can update the content.
Finally, since we are using Expo, releasing updates OTA (over-the-air) is convenient. We can push small fixes or content updates without requiring the user to download a new version from the app store every time, ensuring that our medically accurate info can be updated as needed.
Integrating AI Training for the App
To train the AI component (the chatbot) on menstrual health information, we will create a knowledge base derived from reliable sources (like the ones cited throughout this document: Cleveland Clinic, womenshealth.gov, Mayo Clinic, etc.). The steps involve:
1.	Curating Q&A Data: We take all the important points from A to Z about “adet” – such as what we’ve outlined in this guide – and formulate them into potential question-answer pairs. For example, Q: “What is a normal menstrual cycle length?” A: “It can range between 24 and 38 days for most women[17]...”. We’ll create many of these for different aspects (PMS, cramps, etc.). We also include actual frequently asked questions from users (which we can gather from online forums or our own intuition of what users might ask: e.g., “Is my period normal?”, “How do I insert a tampon?”, “Can I get pregnant during my period?”, “Why do I feel sad before my period?” and so on). For each, we provide a detailed yet gentle answer. This becomes our training dataset for the AI. If using a machine learning approach, we may format this as a JSON or CSV with “prompt” and “response” fields.
2.	Fine-Tuning / Programming the AI: If we use an LLM API, we can fine-tune it on our Q&A pairs so that it learns to respond in the style we want (friendly and accurate). Fine-tuning means we feed the model these examples so it adjusts its parameters to better handle period-related questions. We will also include instructions to always cite medical consensus and sometimes even quote the sources for transparency. Another approach is retrieval-augmented generation: store our curated Q&A or text in a vector database; when a question comes, do a semantic search for relevant info, and have the AI base its answer on that. This approach ensures the AI doesn’t hallucinate information outside our knowledge base.
3.	Testing the AI: Before releasing, we’ll test the chatbot thoroughly. We’ll ask it all sorts of questions (both straightforward like “What causes cramps?” and tricky ones like “My period is late, am I pregnant?”) to see that it responds correctly. We also ensure it handles inappropriate content: e.g., if someone asks a question that’s not really menstrual-health related or something harmful, the AI should gracefully decline or provide a minimal answer. For instance, if asked about something unrelated to periods, it might say “I’m here to help with menstrual health questions – let’s stick to those topics.” And if asked a medical question beyond the scope (like symptoms that might be appendicitis but user thinks it’s period pain), the AI should err on safety: “I’m not a doctor, but that doesn’t sound typical for a period – please seek medical attention to be safe.”
4.	Continuous Learning: We can allow the AI to improve over time. For instance, if a lot of users ask a similar question that we didn’t anticipate, we can add that Q&A to the training in an update. Also, we can get feedback from users (a thumbs-up/down after an answer: “Did this answer your question?”). If many say no to a type of question, we know to refine our answers for that. The AI model can be updated periodically with new training data. Expo allows us to update the app’s JavaScript, but for AI fine-tuning we might do that server-side and just have the app use the latest model.
5.	Language Localization: Since our initial content is in English (with references from English sources), and the app might serve Turkish users, we have options: We can train the AI in both languages or have a translated knowledge base for Turkish. Many modern AI models can handle multilingual queries. We could detect the user’s language preference from the phone settings or an in-app toggle, and provide responses in that language. For Turkish specifically, we’d ensure the terminology is correct (for example, “adet” for period, “yumurtlama” for ovulation, etc.) and maintain the same friendly tone. It might be wise to have a human translator or reviewer go through the AI’s output in Turkish to ensure it’s culturally appropriate and clear. The user specifically asked in Turkish to train the AI, so indeed we’ll likely fine-tune a version of the model for Turkish as well using the corresponding Turkish terms for all the medical concepts. That way, the AI truly speaks the user’s language both literally and figuratively.
6.	AI and TypeScript Integration: On the app side, we will create a service module for the AI. If it’s cloud-based, the TypeScript definitions will include the response format. For example:

 	type AIResponse = { answer: string, sources?: string[] };  
 	We might include sources (like “Cleveland Clinic” or a URL) in an array if we want to display where the info came from. In the UI, after the AI answers, we could even have a “Learn More” link if the user wants to read a full article (for instance, linking out to womenshealth.gov or a trusted site) – though we must ensure not to break the user’s trust by sending them to random internet sites. Likely, our curated info is enough within the app itself for most needs. TypeScript will help ensure we handle the response correctly (checking for errors, etc., with proper types).
Through these steps, we essentially “educate” the AI with everything about adet from A to Z, so that it can, in turn, educate and assist the users. The result is a tailored AI assistant that aligns with medical expertise and the app’s friendly style. This fulfills the user’s request to have a document (dataset) to train the AI, covering all needed information – which we have gathered and structured above.
Conclusion
We have prepared an end-to-end blueprint for an Expo React Native & TypeScript application that is both technically robust and rich in menstrual health knowledge. From the detailed medical insights about the menstrual cycle to thoughtful UX design for a fun and modest user experience, and the integration of an AI trained on accurate information, this guide covers everything from A to Z as requested.
By following this comprehensive document, one can develop an app that educates users about “adet” (the menstrual period) with empathy and accuracy. The app will be “özel” (special) – combining period tracking, personalized tips, and an AI friend who can answer questions 24/7. Moreover, it leverages real data and reputable sources to ensure medical correctness, while delivering it in a relatable tone that can engage teens and adults alike.
With this foundation in place, the next step is implementation. Copy-pasting this knowledge into the development process (or into Codex for code generation) should provide a solid, error-free starting point. The end result will not just be another period tracker, but a menstrual wellbeing platform that can truly help and even delight its users. Here’s to building technology that supports women’s health in the sweetest and most supportive way possible!
________________________________________
[1] [2] [3] [4] [5] [13] [14] [17] [18] [20] [22] [23] [25] [26] [27] [28] [30] [31] [32] [33] [35] [36] [37] [38] [39] [40] [41] [47] [65] [69] [70] [71] [72] Your menstrual cycle
https://womenshealth.gov/menstrual-cycle/your-menstrual-cycle
[6] [7] [8] [9] [10] [11] [12] [15] [16] [19] [21] [24] [29] [34] [48] [53] [64] [66] [67] [68] [73] [80] Menstrual Cycle (Normal Menstruation): Overview & Phases
https://my.clevelandclinic.org/health/articles/10132-menstrual-cycle
[42] [54] Premenstrual syndrome (PMS) - Symptoms & causes - Mayo Clinic
https://www.mayoclinic.org/diseases-conditions/premenstrual-syndrome/symptoms-causes/syc-20376780
[43] Premenstrual Syndrome (PMS) - HealthyWomen
https://www.healthywomen.org/condition/premenstrual-syndrome-pms
[44] [46] The prevalence and risk factors of dysmenorrhea - PubMed
https://pubmed.ncbi.nlm.nih.gov/24284871/
[45] Prevalence of menstrual pain in young women: what is ...
https://pmc.ncbi.nlm.nih.gov/articles/PMC3392715/
[49] [50] [51] [52] [62] [63] Period Pain | Menstrual Cramps | MedlinePlus
https://medlineplus.gov/periodpain.html
[55] [57] [58] [59] [60] [61] Premenstrual Syndrome (PMS): Symptoms & Treatment
https://my.clevelandclinic.org/health/diseases/24288-pms-premenstrual-syndrome
[56] Exercise, diet & periods | The Royal Women's Hospital
https://www.thewomens.org.au/health-information/periods/healthy-periods/exercise-diet-periods
[74] [75] uu.diva-portal.org
https://uu.diva-portal.org/smash/get/diva2:1875660/FULLTEXT01.pdf
[76] [78] [79] The top female-founded period and cycle tracking apps for 2025
https://www.futurefemhealth.com/p/the-top-female-founded-period-and
[77] Essence App: AI-Powered Platform Turning Periods into a Superpower
https://deepgram.com/ai-apps/essence-app




Kısa cevap: Az önceki uzun metin **araştırma + ürün taslağıydı**. “Kopyala-yapıştır ve her şeyi kursun” türünden **tam entegrasyon komutu** değildi.
Aşağıya, **mevcut Expo + React Native + TypeScript projenin içine** API’siz/bağlantısız **lokal** çalışan mini-AI (kural + opsiyonel küçük ONNX model) ve **mini sohbet alanı** ile **A’dan Z’ye tek seferde** kurulum yapacak **Codex/Cursor’a vereceğin hazır PROMPT**u koyuyorum. Bunu **aynen kopyalayıp** ver; dosyaları eklesin, paketleri kursun, ekranı bağlasın. (Modeli eğitmek istersen onun script’i ve sahte eğitim verisi de bu promptta var.)

---

# 🔧 Cursor/Codex’e Tek Parça Yapıştır — “Mevcut Expo RN + TS Projeme Offline Adet-AI Entegrasyonu”

````
Amaç:
Mevcut Expo React Native + TypeScript projesine, internetsiz/ücretsiz, tamamen cihaz içinde çalışan bir “adet-odaklı öneri ve mini sohbet” katmanı ekle. Mimari: (1) kural + bilgi tabanı (KB) ile anında çalışsın, (2) opsiyonel küçük ONNX model ile kişiselleştirilmiş skorlama. Mini sohbet alanı, kullanıcı metninden faz/semptom etiketleri çıkarıp KB’den yanıt döndürsün. Harici API yok. Expo Go yerine Dev/Custom Build.

## 0) Varsayımlar
- Proje: Expo + React Native + TypeScript.
- Komutlar proje kökünde çalıştırılacak.
- Navigasyon: React Navigation varsa bir stack/tab'a ekran ekleyebiliriz; yoksa sade bir route göstereceğiz.

## 1) Paketleri ekle ve native prebuild yap
Komutlar:
- yarn add onnxruntime-react-native expo-file-system expo-asset
- npx expo prebuild
- iOS için: cd ios && pod install && cd ..
> Not: Expo Go çalışmaz; dev/custom build gerekir.
> Çalıştırma: npx expo run:android / npx expo run:ios (veya EAS Dev Build).

## 2) Klasör ve dosya yapısını oluştur
Aşağıdaki dosyaları YARAT veya GÜNCELLE:

/assets/kb/tips.json
/assets/miniqa/faq.json
/assets/models/model.onnx         # opsiyonel; yoksa sistem kuralla çalışır
/app/lib/featureBuilder.ts
/app/lib/kb.ts
/app/lib/recommendation.ts
/app/lib/ortSession.ts
/app/lib/nlp.ts                   # mini etiket çıkarıcı (TR)
screens/RecommendationsScreen.tsx
screens/ChatMiniScreen.tsx
metro.config.js

## 3) metro.config.js
```js
const { getDefaultConfig } = require('expo/metro-config');
module.exports = getDefaultConfig(__dirname);
````

## 4) Bilgi Tabanı (KB) — tıbbi yönden makul, tatlı dilli

/assets/kb/tips.json:

```json
[
  {
    "id": "t1",
    "title": "💧 Su molası",
    "body": "Hafif baş ağrılarında düzenli su içmek yardımcı olabilir. Kafeini abartmamaya çalış 😉",
    "tags": ["bas-agrisi", "adet", "luteal", "folikuler"]
  },
  {
    "id": "t2",
    "title": "🌿 Ilık sıcaklık iyi gelir",
    "body": "Karın bölgesine sıcak uygulama (termofor) kasılmaları gevşetebilir. Kısa bir esneme de dene.",
    "tags": ["kramp", "adet"]
  },
  {
    "id": "t3",
    "title": "🚶‍♀️ Nazik hareket",
    "body": "Kısa yürüyüşler şişkinlik ve gergin ruh hâline iyi gelebilir.",
    "tags": ["siskinlik", "ruh-hali", "luteal", "adet"]
  },
  {
    "id": "t4",
    "title": "🔅 Işık tetikleyicileri",
    "body": "Ekran parlaklığını biraz kısmak migreni tetiklemeyi azaltabilir.",
    "tags": ["bas-agrisi", "ovulasyon", "folikuler"]
  },
  {
    "id": "t5",
    "title": "🧘 Derin nefes",
    "body": "3 dakika yavaş nefes: 4 sn al, 4 sn tut, 6 sn ver. Kaygıyı ve gerginliği hafifletebilir.",
    "tags": ["ruh-hali", "anksiyete", "luteal", "adet"]
  }
]
```

## 5) Mini Soru-Cevap (offline) — sohbetin temel veri kaynağı

/assets/miniqa/faq.json:

```json
[
  {
    "q": ["adet kac gun surer", "adet kac gün sürer", "kanama kaç gün"],
    "a": "Çoğu kişide adet 3–7 gün sürer. 7 günü aşan ve çok yoğun kanamalarda bir uzmana görünmek iyi fikir olabilir.",
    "tags": ["adet"]
  },
  {
    "q": ["ovulasyon nedir", "yumurtlama nedir", "fertil dönem"],
    "a": "Ovulasyon, yumurtanın salındığı dönemdir ve en verimli zamandır. Sperm 3–5 gün yaşayabildiği için ovulasyondan önceki günler de verimlidir.",
    "tags": ["ovulasyon", "fertil"]
  },
  {
    "q": ["kramp", "ağrı", "kasık ağrısı"],
    "a": "Sıcak uygulama, nazik esneme ve gerekirse uygun dozda NSAID (örn. ibuprofen) sık önerilir. Çok şiddetliyse uzmana danış.",
    "tags": ["kramp", "adet"]
  },
  {
    "q": ["siskinlik", "şişkinlik", "ödem"],
    "a": "Tuz ve şeker tüketimini azaltmak, su içmek ve kısa yürüyüşler şişkinliği hafifletebilir.",
    "tags": ["siskinlik", "luteal", "adet"]
  },
  {
    "q": ["bas agrisi", "migren", "baş ağrısı"],
    "a": "Parlak ekran ve yoğun ışıktan kaçın, su iç, kısa bir mola ver. Sık tekrarlıyorsa tetikleyicileri not et.",
    "tags": ["bas-agrisi", "ovulasyon", "luteal"]
  }
]
```

## 6) Özellik mühendisliği — kullanıcı verisini vektöre çevir

/app/lib/featureBuilder.ts

```ts
export type Phase = 'adet' | 'folikuler' | 'ovulasyon' | 'luteal';

export type FeaturesInput = {
  cycleDay: number;           // 1..n
  phase: Phase;
  symptoms: string[];         // ['kramp','bas-agrisi','siskinlik','ruh-hali',...]
  recentSymptomCount?: number;
  hydrationScore?: number;    // 0..1
};

export const SYMPTOMS = [
  'kramp',
  'bas-agrisi',
  'siskinlik',
  'akne',
  'ruh-hali',
  'anksiyete'
] as const;

function oneHotPhase(phase: Phase): number[] {
  const order: Phase[] = ['adet','folikuler','ovulasyon','luteal'];
  return order.map(p => (p === phase ? 1 : 0));
}

function multiHotSymptoms(selected: string[]): number[] {
  return SYMPTOMS.map(s => (selected.includes(s) ? 1 : 0));
}

export function buildFeatures(input: FeaturesInput): number[] {
  const cd = Math.min(Math.max(input.cycleDay, 1), 40) / 40; // normalize
  const phaseVec = oneHotPhase(input.phase);
  const symVec = multiHotSymptoms(input.symptoms);
  const recent = (input.recentSymptomCount ?? 0) / 60;
  const hyd = input.hydrationScore ?? 0;
  return [cd, ...phaseVec, ...symVec, recent, hyd];
}
```

## 7) KB yükleme

/app/lib/kb.ts

```ts
import { Asset } from 'expo-asset';

export type Tip = { id: string; title: string; body: string; tags: string[] };

let cache: Tip[] | null = null;

export async function loadKB(): Promise<Tip[]> {
  if (cache) return cache;
  const asset = Asset.fromModule(require('../../assets/kb/tips.json'));
  await asset.downloadAsync();
  if (!asset.localUri) throw new Error('KB asset not found');
  const res = await fetch(asset.localUri);
  cache = await res.json() as Tip[];
  return cache!;
}
```

## 8) Model oturumu (opsiyonel ONNX) — yoksa fallback çalışır

/app/lib/ortSession.ts

```ts
import { InferenceSession, Tensor } from 'onnxruntime-react-native';
import * as FileSystem from 'expo-file-system';
import { Asset } from 'expo-asset';

export async function getModelUri(): Promise<string> {
  const asset = Asset.fromModule(require('../../assets/models/model.onnx'));
  await asset.downloadAsync();
  if (!asset.localUri) throw new Error('Model asset not found');
  const dest = FileSystem.cacheDirectory + 'model.onnx';
  await FileSystem.copyAsync({ from: asset.localUri, to: dest });
  return dest;
}

let session: InferenceSession | null = null;

export async function getOrtSession(): Promise<InferenceSession> {
  if (session) return session;
  const uri = await getModelUri();
  session = await InferenceSession.create(uri, { executionProviders: ['cpu'] });
  return session;
}

export async function runModel(features: number[], inputName = 'input', outputName = 'output'): Promise<number[]> {
  const s = await getOrtSession();
  const input = new Tensor('float32', Float32Array.from(features), [1, features.length]);
  const outputs = await s.run({ [inputName]: input });
  const out = outputs[outputName];
  if (!out) throw new Error(`ORT output '${outputName}' not found; keys: ${Object.keys(outputs)}`);
  return Array.from(out.data as Float32Array);
}
```

## 9) Öneri harmanlama (etiket + model skoru)

/app/lib/recommendation.ts

```ts
import { Tip } from './kb';

export function pickTopTips(tips: Tip[], modelScores: number[], tagWish: string[], topK = 3) {
  const blended = tips.map((t, i) => {
    const tagScore = t.tags.filter(x => tagWish.includes(x)).length / Math.max(t.tags.length, 1);
    const modelScore = (modelScores[i] ?? 0);
    const score = 0.6 * tagScore + 0.4 * modelScore;
    return { tip: t, score };
  });
  return blended.sort((a,b) => b.score - a.score).slice(0, topK).map(x => x.tip);
}
```

## 10) Basit TR “etiket çıkarıcı” (mini NLP, offline)

/app/lib/nlp.ts

```ts
// Çok basit bir anahtar kelime-metin eşleştirici. Geliştirilebilir.
const normalize = (s: string) =>
  s.toLowerCase()
   .replaceAll('ğ','g').replaceAll('ş','s').replaceAll('ı','i')
   .replaceAll('ç','c').replaceAll('ö','o').replaceAll('ü','u');

export function extractTagsFromText(input: string): { symptoms: string[]; phase?: 'adet'|'folikuler'|'ovulasyon'|'luteal' } {
  const t = normalize(input);

  const symptoms: string[] = [];
  const push = (k: string) => { if (!symptoms.includes(k)) symptoms.push(k); };

  if (/\bkramp|agri|kasik\b/.test(t)) push('kramp');
  if (/\b(bas agrisi|migren)\b/.test(t)) push('bas-agrisi');
  if (/\bsiskinlik|odem\b/.test(t)) push('siskinlik');
  if (/\bakne|sivilce\b/.test(t)) push('akne');
  if (/\bruh hali|mod|mood|sinir|gergin\b/.test(t)) push('ruh-hali');
  if (/\banksiyete|kaygi\b/.test(t)) push('anksiyete');

  let phase: 'adet'|'folikuler'|'ovulasyon'|'luteal'|undefined;
  if (/\badet|kanama\b/.test(t)) phase = 'adet';
  else if (/\bovulasyon|yumurtlama|fertil\b/.test(t)) phase = 'ovulasyon';
  else if (/\bfolikul(er)?\b/.test(t)) phase = 'folikuler';
  else if (/\bluteal\b/.test(t)) phase = 'luteal';

  return { symptoms, phase };
}
```

## 11) Öneriler ekranı (örnek)

/screens/RecommendationsScreen.tsx

```tsx
import React, { useEffect, useState } from 'react';
import { View, Text, SafeAreaView, FlatList, StyleSheet, ActivityIndicator } from 'react-native';
import { loadKB } from '../app/lib/kb';
import { buildFeatures } from '../app/lib/featureBuilder';
import { runModel } from '../app/lib/ortSession';
import { pickTopTips } from '../app/lib/recommendation';

export default function RecommendationsScreen() {
  const [tips, setTips] = useState<any[]>([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    (async () => {
      try {
        const kb = await loadKB();

        // TODO: Bunları gerçek state'inizle bağlayın
        const cycleDay = 13;
        const phase = 'ovulasyon' as const;
        const symptoms = ['bas-agrisi', 'ruh-hali'];

        const features = buildFeatures({
          cycleDay, phase, symptoms,
          recentSymptomCount: 7, hydrationScore: 0.4
        });

        let scores: number[] = new Array(kb.length).fill(0);
        try {
          scores = await runModel(features, 'input', 'output');
          if (scores.length < kb.length) {
            scores = [...scores, ...new Array(kb.length - scores.length).fill(0)];
          }
        } catch {
          // Model yoksa sorun değil, etiket skoru kullanacağız
        }

        const wantedTags = [...symptoms, phase];
        const top = pickTopTips(kb, scores, wantedTags, 3);
        setTips(top);
      } finally {
        setLoading(false);
      }
    })();
  }, []);

  if (loading) {
    return (
      <SafeAreaView style={styles.center}>
        <ActivityIndicator />
        <Text style={{ marginTop: 8 }}>Öneriler hazırlanıyor...</Text>
      </SafeAreaView>
    );
  }

  return (
    <SafeAreaView style={{ flex: 1, padding: 16 }}>
      <Text style={styles.h1}>Bugün için öneriler</Text>
      <FlatList
        data={tips}
        keyExtractor={(item) => item.id}
        renderItem={({ item }) => (
          <View style={styles.card}>
            <Text style={styles.title}>{item.title}</Text>
            <Text style={styles.body}>{item.body}</Text>
          </View>
        )}
        ItemSeparatorComponent={() => <View style={{ height: 12 }} />}
      />
      <Text style={styles.note}>⚠️ Bu içerik tıbbi tavsiye değildir. Gerekirse uzmana danışın.</Text>
    </SafeAreaView>
  );
}

const styles = StyleSheet.create({
  h1: { fontSize: 22, fontWeight: '700', marginBottom: 12 },
  card: { padding: 14, borderRadius: 14, backgroundColor: '#fff', elevation: 2 },
  title: { fontSize: 16, fontWeight: '700', marginBottom: 6 },
  body: { fontSize: 14, lineHeight: 20 },
  note: { marginTop: 16, fontSize: 12, color: '#666' },
  center: { flex:1, alignItems:'center', justifyContent:'center' }
});
```

## 12) Mini sohbet ekranı (offline Q&A + KB araması)

/screens/ChatMiniScreen.tsx

```tsx
import React, { useState } from 'react';
import { View, Text, SafeAreaView, TextInput, TouchableOpacity, StyleSheet, ScrollView } from 'react-native';
import { loadKB, Tip } from '../app/lib/kb';
import { extractTagsFromText } from '../app/lib/nlp';
import { Asset } from 'expo-asset';

type Msg = { role: 'user'|'ai', text: string };

async function loadFAQ(): Promise<{q:string[]; a:string; tags:string[]}[]> {
  const asset = Asset.fromModule(require('../assets/miniqa/faq.json'));
  await asset.downloadAsync();
  if (!asset.localUri) throw new Error('FAQ asset not found');
  const res = await fetch(asset.localUri);
  return await res.json();
}

export default function ChatMiniScreen() {
  const [input, setInput] = useState('');
  const [msgs, setMsgs] = useState<Msg[]>([
    { role: 'ai', text: 'Merhaba 👋 Adet ve semptomlarla ilgili sorularına yardımcı olabilirim.' }
  ]);
  const [busy, setBusy] = useState(false);

  const ask = async () => {
    if (!input.trim()) return;
    const q = input.trim();
    setMsgs(m => [...m, { role: 'user', text: q }]);
    setInput('');
    setBusy(true);

    try {
      const [{ tips, faq }] = await Promise.all([
        (async () => {
          const kb = await loadKB();
          const fq = await loadFAQ();
          return { tips: kb, faq: fq };
        })()
      ]);

      // Basit: önce mini FAQ içinde eşleşen Q anahtar kelimeleri ara
      const norm = q.toLowerCase();
      const hit = faq.find(f => f.q.some(k => norm.includes(k.toLowerCase())));
      if (hit) {
        setMsgs(m => [...m, { role: 'ai', text: hit.a }]);
        return;
      }

      // Eşleşme yoksa: metinden etiket çıkar -> KB’den ilgili 2-3 kartı cevapla
      const ex = extractTagsFromText(q);
      const wanted = [...ex.symptoms, ...(ex.phase ? [ex.phase] : [])];
      let candidates: Tip[] = tips.filter(t => t.tags.some(x => wanted.includes(x)));
      if (candidates.length === 0) candidates = tips.slice(0, 2);

      const answer = candidates.map(c => `• ${c.title}\n${c.body}`).join('\n\n');
      const final = answer || 'Bunu net cevaplamak için biraz daha detay verebilir misin?';
      setMsgs(m => [...m, { role: 'ai', text: final }]);
    } catch (e:any) {
      setMsgs(m => [...m, { role: 'ai', text: 'Şu an cevap veremedim, tekrar dener misin?' }]);
    } finally {
      setBusy(false);
    }
  };

  return (
    <SafeAreaView style={{ flex: 1, padding: 12 }}>
      <ScrollView style={{ flex: 1 }} contentContainerStyle={{ paddingBottom: 80 }}>
        {msgs.map((m, i) => (
          <View key={i} style={[styles.bubble, m.role === 'ai' ? styles.ai : styles.user]}>
            <Text style={{ color: m.role === 'ai' ? '#111' : '#fff' }}>{m.text}</Text>
          </View>
        ))}
      </ScrollView>

      <View style={styles.inputRow}>
        <TextInput
          value={input}
          onChangeText={setInput}
          placeholder="Sorunu yaz..."
          style={styles.input}
        />
        <TouchableOpacity onPress={ask} disabled={busy || !input.trim()} style={[styles.send, (busy || !input.trim()) && { opacity: 0.5 }]}>
          <Text style={{ color: '#fff', fontWeight: '700' }}>{busy ? '...' : 'Gönder'}</Text>
        </TouchableOpacity>
      </View>

      <Text style={styles.note}>⚠️ Bu içerik tıbbi tavsiye değildir; gerekirse uzmana danışın.</Text>
    </SafeAreaView>
  );
}

const styles = StyleSheet.create({
  bubble: { marginVertical: 6, padding: 12, borderRadius: 12, maxWidth: '92%' },
  ai: { backgroundColor: '#f1f5f9', alignSelf: 'flex-start' },
  user: { backgroundColor: '#2563eb', alignSelf: 'flex-end' },
  inputRow: { flexDirection: 'row', alignItems: 'center', gap: 8, position: 'absolute', bottom: 30, left: 12, right: 12 },
  input: { flex: 1, backgroundColor: '#fff', borderRadius: 12, paddingHorizontal: 12, paddingVertical: 10, borderWidth: 1, borderColor: '#e5e7eb' },
  send: { backgroundColor: '#111827', paddingHorizontal: 16, paddingVertical: 10, borderRadius: 12 },
  note: { position: 'absolute', bottom: 8, left: 12, right: 12, textAlign: 'center', fontSize: 12, color: '#6b7280' }
});
```

## 13) (OPSİYONEL) Küçük model eğitimi için Python script’i + sahte veri

Proje köküne ml/train_model.py oluştur:

```python
# ml/train_model.py
import numpy as np
from sklearn.neural_network import MLPClassifier
from sklearn.preprocessing import StandardScaler
from sklearn.pipeline import Pipeline
from skl2onnx import convert_sklearn
from skl2onnx.common.data_types import FloatTensorType
import onnx
from onnxruntime.quantization import quantize_dynamic, QuantType

# N_FEATURES: cd(1) + phase(4) + symptoms(6) + recent(1) + hydration(1) = 13
N_FEATURES = 13
# Sınıf sayısı = tips.json eleman sayısı (örnekte 5)
N_TIPS = 5
np.random.seed(42)

# Sahte ama gerçekçi dağılım: ovulasyon + bas-agrisi -> t4'e meyil, adet + kramp -> t2'ye meyil...
def make_row():
  cd = np.random.randint(1, 33) / 40.0
  phase = np.zeros(4); phase[np.random.randint(0,4)] = 1
  symptoms = (np.random.rand(6) < 0.25).astype(np.float32)
  recent = np.random.randint(0, 20)/60.0
  hyd = np.random.rand()
  x = np.concatenate([[cd], phase, symptoms, [recent, hyd]]).astype(np.float32)

  # kaba kural: (örnek)
  if phase[2]==1 and symptoms[1]==1: y = 3  # ovulasyon + bas-agrisi => t4
  elif phase[0]==1 and symptoms[0]==1: y = 1 # adet + kramp => t2
  elif symptoms[2]==1: y = 2               # siskinlik => t3
  elif symptoms[4]==1 or symptoms[5]==1: y = 4 # ruh-hali/anksiyete => t5
  else: y = 0 # genel hidrasyon => t1
  return x, y

X = []
y = []
for _ in range(1200):
  xi, yi = make_row()
  X.append(xi); y.append(yi)

X = np.vstack(X).astype(np.float32)
y = np.array(y)

pipe = Pipeline([
    ('scaler', StandardScaler(with_mean=False)),
    ('clf', MLPClassifier(hidden_layer_sizes=(16,), max_iter=600, random_state=42))
])
pipe.fit(X, y)

onnx_model = convert_sklearn(
    pipe,
    initial_types=[('input', FloatTensorType([None, N_FEATURES]))],
    target_opset=13
)
onnx.save_model(onnx_model, 'model_fp32.onnx')

quantize_dynamic(
    model_input='model_fp32.onnx',
    model_output='assets/models/model.onnx',
    weight_type=QuantType.QUInt8
)

print('Saved quantized model to assets/models/model.onnx')
```

Kurulum (makinenizde):

```
python -m venv .venv && source .venv/bin/activate   # Win: .venv\Scripts\activate
pip install numpy scikit-learn skl2onnx onnx onnxruntime onnxruntime-tools onnxruntime-training onnxruntime
python ml/train_model.py
```

> `assets/models/model.onnx` oluşursa uygulama model skorunu da kullanır. Oluşmazsa sadece etiket skoru ile çalışır.

## 14) Navigasyona ekleme

* Eğer React Navigation kullanıyorsanız, iki ekranı ekleyin:

  * RecommendationsScreen
  * ChatMiniScreen
* Örn. bir tab/stack içine ekleyin. Alternatif: App.tsx içinde sırayla test için gösterin.

## 15) Güvenlik metni (yasal)

Uygulamada görünür bir yerde: “⚠️ Bu içerik tıbbi tavsiye değildir; belirtiler şiddetliyse lütfen bir sağlık profesyoneline başvurun.”

## 16) Test Kontrollisti

* Dev build ile açılır (Expo Go değil).
* tips.json yüklenir.
* ChatMiniScreen’de sorulara yanıt gelir (FAQ veya KB’ye dayalı).
* RecommendationsScreen 3 öneri kartı listeler.
* (Opsiyonel) model.onnx eklendiğinde öneri sıralaması değişir.

```

---

